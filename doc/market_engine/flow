1. Order Placement:
   Portfolio → BuyOrderRequestedEvent → Market Engine
   Market Engine → CreateOrderCommand → Order BC
   Order BC → OrderCreatedEvent → Market Engine & OrderBook

2. Order Book Processing:
   Market Engine → AddOrderToBookCommand → OrderBook BC
   OrderBook BC → OrderMatchedEvent → Market Engine

3. Settlement:
   Market Engine → CreateTransactionCommand → Order BC
   Order BC → TransactionCreatedEvent → Portfolio BC
   Portfolio BC → Updates balances/positions

4. Order Status Changes:
   Order BC → OrderCancelledEvent/OrderExpiredEvent → Portfolio BC